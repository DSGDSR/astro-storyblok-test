---
import { getEditableAttributes } from '../../utils/storyblok.js'

const { blok } = Astro.props

const editableAttributes = await getEditableAttributes(blok);

const stylesByType = {
  'primary': 'text-white bg-indigo-600 hover:bg-indigo-700',
  'secondary': 'text-indigo-600 bg-white hover:bg-indigo-50',
  'soft': 'text-indigo-700 bg-indigo-100 hover:bg-indigo-200',
}

const stylesBySize = {
  'small': 'px-4 py-2',
  'normal': 'px-5 py-3',
  'large': 'px-8 py-3 md:py-4 md:text-lg md:px-10',
}

const classes = stylesByType[blok.type] + ' ' + stylesBySize[blok.size];
---

<a
  data-blok-c={editableAttributes['data-blok-c']}
  data-blok-uid={editableAttributes['data-blok-uid']}
  href={blok.link.url}
  target={blok.new_window ? '_blank' : '_self'}
  class={'inline-flex items-center justify-center border border-transparent text-base font-medium rounded-md ' + classes}
>
  {blok.text}
</a>